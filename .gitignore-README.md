# .gitignore Configuration

This project has comprehensive `.gitignore` files to prevent committing temporary files, build artifacts, and local databases.

## Root `.gitignore`

Located at the project root, it ignores:

### Build Artifacts
- Compiled binaries: `*.exe`, `*.dll`, `*.so`, `*.dylib`
- Test binaries: `*.test`
- Coverage reports: `*.out`, `coverage.html`
- Built demo executables: `examples/*_demo`
- Task build cache: `.task/`

### Database Files
- SQLite databases: `*.db`, `*.db-shm`, `*.db-wal`, `*.db-journal`
- Common database names: `events.db`, `data.db`, `test.db`, `dev.db`
- Observability databases: `observability.db`, `traces/`, `metrics/`

### IDE & Editor Files
- VSCode: `.vscode/`
- IntelliJ: `.idea/`
- Vim/Emacs: `*.swp`, `*.swo`, `*~`
- macOS: `.DS_Store`

### Development Files
- Environment files: `.env`, `.env.local`
- Temporary files: `tmp/`, `*.tmp`
- Log files: `*.log`, `logs/`
- Backup files: `*.bak`, `*.backup`

## Examples `.gitignore`

Located in `examples/`, it focuses on example-specific artifacts:

### Compiled Examples
- `bankaccount_demo`
- `bankaccount_observability_demo`
- `bankaccount_sqlite_obs_demo`
- Any binary ending in `_demo`

### Example Databases
- All SQLite files in examples directory
- WAL and journal files

## What IS Committed

The following are intentionally committed:

✅ **Generated Go Code**
- `examples/pb/**/*.pb.go` - Generated protobuf code
- `pkg/sqlite/sqlcgen/*.go` - Generated SQL queries
- All generated code is checked in for reproducible builds

✅ **Source Files**
- All `.go` source files
- All `.proto` files
- SQL schema files (`.sql`)

✅ **Configuration**
- `go.mod` and `go.sum`
- `Taskfile.yml`
- `buf.yaml`, `buf.gen.yaml`
- `sqlc.yaml`

✅ **Documentation**
- All `.md` files
- Example code

## Testing Gitignore Rules

To check if a file would be ignored:

```bash
git check-ignore -v path/to/file
```

Example:
```bash
$ git check-ignore -v examples/observability.db
examples/.gitignore:2:*.db	examples/observability.db
```

To see all ignored files in a directory:

```bash
git status --ignored
```

## Clean Up Ignored Files

To remove all ignored files (be careful!):

```bash
# Dry run - see what would be deleted
git clean -ndX

# Actually delete ignored files
git clean -fdX
```

## Adding Exceptions

If you need to commit a file that's normally ignored, you can force add it:

```bash
git add -f path/to/file
```

Or add an exception in `.gitignore`:

```gitignore
# Ignore all .db files
*.db

# Except this reference database
!reference.db
```
